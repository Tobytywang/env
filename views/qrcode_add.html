<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>标题</title>

  <!-- Fontawesome -->
  <link rel="stylesheet" href="/static/css/font-awesome.min.css">
  <!-- Bootstrap -->
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">

  <!-- FileInput -->
  <link rel="stylesheet" type="text/css" href="/static/css/default.css">
  <link href="/static/css/fileinput.min.css" media="all" rel="stylesheet" type="text/css" />
  <!-- Editor.md -->
  <link rel="stylesheet" href="/static/css/editormd.min.css"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
  <style>
  /*ul,ol{list-style-type:none;}*/
  /*.left_menu {margin:0px;padding:0px;border-bottom:1px solid #aaaaaa;verticla-align:center;height:40px;}
  .left_menu a{height:100%;width:100%;}
  .left_menu img {height:1em;width:1em;}*/
  .left a {line-height:normal;}
  .left a {text-decoration:none;display:block;height:40px;padding:5px 0px 5px 10px;border-bottom:1px solid #bbbbbb;color:#000000;}
  .left a:hover {}
  .left img {height:1em;width:1em;}
  .left span {margin-left:5px;}
  </style>
</head>
<body>
  <nav class="navbar navbar-default" role="navigation" style="margin-bottom:0px;background-color:#00ca79;border:none;border-radius: 0px;">
    <div class="container-fluid" style="padding-right: 0px;">
    <div class="navbar-header">
      <a class="navbar-brand" href="/admin">LOGO</a>
    </div>
    <div class="collapse navbar-collapse" id="example-navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a href="#" class="dropdown-toggle-toggle user" data-toggle="dropdown-dropdown" data-hover="dropdown">
                  <span class="glyphicon glyphicon-user"></span>
                </a>
                <ul class="dropdown-menu">
                    <li><a href="#">个人中心</a></li>
                    <li><a href="#">使用帮助</a></li>
                    <li class="divider"></li>
                    <li><a href="/login?exit=true">退出登录</a></li>
                    <!-- <li class="divider"></li> -->
                </ul>
            </li>
        </ul>
    </div>
    </div>
  </nav>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-2 col-md-2 col-lg-2 left" style="height:100%;background-color:#C8E6C9;color:#ffffff;">
        <a href="/code">
          <div>
            <img src="/static/img/二维码.png" />
            <span>二维码</span>
          </div>
        </a>
        <a href="#">
          <img src="/static/img/文章.png" />
          <span>文章</span>
        </a>
        <a href="#">
          <img src="/static/img/设置.png" />
          <span>个人中心</span>
        </a>
      </div>
    <!-- <div class="col-sm-10 col-md-10 col-lg-10" style="margin-left:120px;margin-top:50px;background-color:#ECEFF1;">-->
      <div class="col-sm-10 col-md-10 col-lg-10" style="background-color:#ECEFF1;">
        <div class="row">
        	<ol class="breadcrumb" style="margin-bottom:0px;">
        	    <li><a href="/admin">首页</a></li>
        	    <li><a href="/code">二维码</a></li>
        	    <li class="active">新增二维码</li>
        	</ol>
        </div>
        <div class="row" style="padding-top:15px;">
          <form id="code" action="/code" method="POST" class="form-horizontal" enctype="multipart/form-data" role="form">
            <div class="form-group">
              <label for="" class="col-sm-1 control-label">ID</label>
              <div class="col-sm-9">
                {{if .Modify}}
                <input type="text" class="form-control" id="id" name="id" value="{{.Code.Id}}" readonly>
                {{else}}
                {{end}}
              </div>
            </div>
            <div class="form-group">
              <label for="" class="col-sm-1 control-label">学名</label>
              <div class="col-sm-9">
                {{if .Modify}}
                <input type="text" class="form-control" id="name" name="name" value="{{.Code.Name}}">
                {{else}}
                <input type="text" class="form-control" id="name" name="name" placeholder="请输入植物学名">
                {{end}}
              </div>
            </div>
            <div class="form-group">
              <label for="" class="col-sm-1 control-label">图片</label>
              <div class="col-sm-9">
                  {{if .Modify}}
                  <input id="file-2" type="file" class="file" name="pic" onchange="selectFile(this);" data-show-upload="false">
                  {{else}}
                  <input id="file-2" type="file" class="file" name="pic" onchange="selectFile(this);" data-show-upload="false">
                  {{end}}
              </div>
            </div>
            <div class="form-group" style="display:none;">
              <label for="" class="col-sm-1 control-label">文件类型</label>
              <div class="col-sm-9">
                {{if .Modify}}
                <input type="text" id="FileType" name="filetype"/>
                {{else}}
                <input type="text" id="FileType" name="filetype"/>
                {{end}}
              </div>
            </div>
            <script type="text/javascript">
              function selectFile(upload){
                var filename = upload.value;
                var mime = filename.toLowerCase().substr(filename.lastIndexOf("."));
                var filetype = document.getElementById("FileType");
                filetype.value = mime;
              }
            </script>
        	  <div class="form-group">
        	    <label for="" class="col-sm-1 control-label">介绍</label>
        	    <div id="desc" class="col-sm-9" style="padding-left:15px; padding-right:15px;">
                  <textarea class="form-control editormd-markdown-textarea" name="desc-markdown">{{.Code.Markdown}}</textarea>
                  <textarea class="form-control editormd-html-textarea" name="desc-html"></textarea>
        	    </div>
        	  </div>
            <div class="form-group">
              <div class="col-sm-offset-9 col-sm-1">
                <button type="submit" class="btn btn-primary">提交</button>
              </div>
            </div>
          </form>
        <!--</div> 表格内容 -->
        </div>
        <div class="row">
        </div><!-- 网站标识 -->
      </div>
    </div>
  </div>
  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
  <!-- Bootstrap-hover-dropdown -->
  <script src="/static/js/jquery.bootstrap-dropdown-hover.min.js"></script>
  <!-- FileInput -->
  <script src="/static/js/fileinput.js" type="text/javascript"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="/static/js/bootstrap.min.js"></script>
  <!-- Editormd.js-->
  <script src="/static/js/editormd.min.js"></script>
  <script type="text/javascript">
  //    调用编辑器
  var testEditor;
  $(function() {
    testEditor = editormd("desc", {
      width   : 768,
      height  : 400,
      syncScrolling : "single",
      path    : "/static/lib/",
      saveHTMLToTextarea : true,
      // {{if .Modify}}
      // markdown: "{{.Code.Markdown}}",
      // {{end}}
      toolbarIcons: function(){
      	return ["undo", "redo", "|", "h3", "hr","|", "preview", "watch"]
      }
    });
    // testEditor.getMarkdown();
    testEditor.getHTML();
  });
  </script>

</body>
</html>
